## 第一章：理解网络编程和套接字

### 理解网络编程和套接字

#### 网络编程中接受连接请求的套接字创建过程

- [C 语言中接受连接请求的套接字创建过程](../c/README.md)

在 Go 语言中编写网络程序时，我们将看不到传统的编码形式，下面是 Go 与 C 进行 Socket 编程时的过程差异：

||C|Go|
|--|--|--|
|**服务端**|第一步：调用 socket 函数创建套接字<br/>第二步：调用 bind 函数分配IP地址和端口号<br/>第三步：调用 listen 函数转换为可接受请求状态<br/>第四步：调用 accept 函数受理套接字请求|第一步：调用 Listen 方法监听网络地址<br/>第二步：调用 Accept 方法接收请求|
|**客户端**|第一步：调用 socket 函数创建套接字<br/>第二步：调用 connect 函数请求连接|第一步：调用 Dial 方法请求连接|

<!--
**C 服务端**
1. 第一步：调用 socket 函数创建套接字
2. 第二步：调用 bind 函数分配IP地址和端口号
3. 第三步：调用 listen 函数转换为可接受请求状态
4. 第四步：调用 accept 函数受理套接字请求

**Go 服务端**
1. 第一步：调用 Listen 方法监听网络地址
2. 第二步：调用 Accept 方法接收请求|

**C 客户端**
1. 第一步：调用 socket 函数创建套接字
2. 第二步：调用 connect 函数请求连接

**Go 客户端**
1. 第一步：调用 Dial 方法请求连接|
-->

#### 编写 `hello world` 套接字程序

1. **服务端**

   服务器端（server）是能够受理连接请求的程序。下面构建服务端以验证之前提到的函数调用过程，该服务器端收到连接请求后向请求者返回 `hello world` 答复。除各种函数的调用顺序外，我们还未涉及任何实际编程。因此，阅读代码时请重点关注套接字相关的函数调用过程，不必理解全过程。

   服务器端代码请参见：[hello_server.go](./hello_server.go)

2. **客户端**：

   客户端程序调用 Dial 方法向服务端发送连接请求，成功后可进行数据交换，下面给出客户端，需要查看以下两方面的内容：

   客户端代码请参见：[hello_client.go](./hello_client.go)

3. **运行**：

   ```shell
   go run ./hello_server.go :9190
   go run ./hello_client.go :9190
   ```

   运行的时候，首先再 9190 端口启动服务，然后服务端就会一直等待客户端进行响应，当客户端监听位于本地的 IP 为 127.0.0.1 的地址的 9190 端口时，客户端就会收到服务端的回应，输出`hello world`。

### 基于 Linux 的文件操作

前几章没有用到基于 Linux 的文件操作，为了专心 Go 网络编程，将这部分的知识放在了笔记文件夹中[Linux的文件操作](../../notes/GO_Linux的文件操作.md)，作为附录学习。